<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Viewer</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            height: 100vh;
        }
        .svg-container {
            width: 100%;
            max-width: 600px;
            margin-top: 20px;
            border: 2px solid #007bff;
            box-sizing: border-box;
            overflow: hidden;
            user-select: none; /* Запретить выделение текста */
            cursor: grab; /* Изменить курсор при перемещении */
        }
        #svg-selector {
            margin-top: 20px;
            max-width: 600px;
            width: 100%;
        }
    </style>
</head>
<body>
    <select id="svg-selector">
        <option value="Политическая карта.svg">Политическая карта</option>
        <option value="Карта Высот.svg">Карта Высот</option>
        <option value="Карта Биомов.svg">Карта Биомов</option>
        <!-- Добавьте дополнительные опции для каждого SVG-файла -->
    </select>
    
    <div id="svg-container" class="svg-container"></div>

    <script>
        const svgSelector = document.getElementById('svg-selector');
        const svgContainer = document.getElementById('svg-container');

        function loadSvg(selectedSvg) {
            fetch(selectedSvg)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Failed to fetch SVG: ${selectedSvg}`);
                    }
                    return response.text();
                })
                .then(svgText => {
                    svgContainer.innerHTML = svgText;
                    enablePanZoom();
                })
                .catch(error => {
                    console.error(error.message);
                    svgContainer.innerHTML = `Error loading SVG: ${error.message}`;
                });
        }

        function enablePanZoom() {
            let isDragging = false;
            let startPoint;

            svgContainer.addEventListener('mousedown', (e) => {
                isDragging = true;
                startPoint = { x: e.clientX, y: e.clientY };
                svgContainer.style.cursor = 'grabbing';
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                const deltaX = e.clientX - startPoint.x;
                const deltaY = e.clientY - startPoint.y;
                startPoint = { x: e.clientX, y: e.clientY };
                svgContainer.scrollLeft += deltaX;
                svgContainer.scrollTop += deltaY;
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
                svgContainer.style.cursor = 'grab';
            });

            svgContainer.addEventListener('wheel', (e) => {
                const scaleFactor = e.deltaY > 0 ? 1.1 : 0.9;
                svgContainer.style.transform = `scale(${scaleFactor})`;
            });
        }

        svgSelector.addEventListener('change', function() {
            const selectedValue = svgSelector.value;
            loadSvg(selectedValue);
        });

        // Инициализация при открытии страницы
        loadSvg(svgSelector.value);
    </script>
</body>
</html>
